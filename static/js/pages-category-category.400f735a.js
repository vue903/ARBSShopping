(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-category"],{"0d4c":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".itemlist .buy-shop-info[data-v-c49157ca]{border-top:%?1?% solid #e5e5e5}.itemlist .buy-shop-info[data-v-c49157ca]:nth-of-type(1){border-top:none}.buy-shop-info[data-v-c49157ca]{display:flex;padding:%?10?% %?0?%;margin:0 %?20?%;background:#fff}.buy-shop-info uni-image[data-v-c49157ca]{width:%?200?%;height:%?200?%;margin-right:%?10?%;border-radius:%?30?%}.shop-info-text[data-v-c49157ca]{flex:1}.shop-title[data-v-c49157ca]{font-size:%?28?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;color:#333;-webkit-line-clamp:2;-webkit-box-orient:vertical}.shop-attr[data-v-c49157ca]{font-size:%?24?%;color:#999;line-height:%?40?%}.shop-price-num[data-v-c49157ca]{height:%?40?%;font-size:%?28?%;margin-top:%?10?%;display:flex;justify-content:space-between;margin-top:%?20?%}.shop-price-num .price[data-v-c49157ca]{color:red}.shop-price-num .num[data-v-c49157ca]{color:#999}",""]),t.exports=e},"203f":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"itemlist"},t._l(t.already,(function(e){return a("v-uni-view",{staticClass:"buy-shop-info"},[a("v-uni-image",{attrs:{src:JSON.parse(e.goodImg)[0],mode:""}}),a("v-uni-view",{staticClass:"shop-info-text"},[a("v-uni-view",{staticClass:"shop-title"},[t._v(t._s(e.goodName))]),a("v-uni-view",{staticClass:"shop-price-num"},[a("v-uni-text",{staticClass:"price"},[t._v("$"+t._s(e.goodPrize))]),a("v-uni-text",{staticClass:"num"},[t._v("×"+t._s(2==t.typeItem?e.goodNum:t.num))])],1)],1)],1)})),1)},n=[]},2500:function(t,e,a){"use strict";var i=a("76e0"),n=a.n(i);n.a},4098:function(t,e,a){var i=a("0d4c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("387ed4f7",i,!0,{sourceMap:!1,shadowMode:!1})},"6afe":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("topNav",{attrs:{text:"订单",adderssType:"3"}}),a("myAddress",{on:{radioChange:function(e){arguments[0]=e=t.$handleEvent(e),t.adrChange.apply(void 0,arguments)}}}),void 0!=t.dataList[0]?a("v-uni-view",{staticClass:"order-list"},[a("shopItem",{attrs:{already:t.dataList,dialogImg:t.dataImg[0],num:t.num,typeItem:t.carType}})],1):t._e(),a("v-uni-view",{staticClass:"buy-shop-list",staticStyle:{padding:"20rpx 0"}},[a("v-uni-view",{staticClass:"buy-shop-item"},[a("v-uni-view",{staticClass:"shop-item-left"},[t._v(t._s(t.$t("shop62")))]),1==t.carType?a("v-uni-view",{staticClass:"shop-item-right"},[void 0!=t.dataList[0]?a("v-uni-view",[t._v(t._s(t.times(t.dataList[0].goodPrize,t.num)))]):t._e()],1):a("v-uni-view",{staticClass:"shop-item-right"},[t._v(t._s(t.carPrize))])],1),a("v-uni-view",{staticClass:"buy-shop-item"},[a("v-uni-input",{attrs:{type:"text",value:"",placeholder:t.$t("shop63")},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),a("v-uni-view",{staticClass:"buy-shop-item"},[a("v-uni-view",{staticClass:"shop-item-left"},[t._v(t._s(t.$t("shop61")))]),1==t.carType?a("v-uni-view",{staticClass:"shop-item-right"},[void 0!=t.dataList[0]?a("v-uni-view",[t._v(t._s(t.$t("shop64"))+t._s(t.num)+t._s(t.$t("shop65"))+" "+t._s(t.$t("shop66"))+":$"+t._s(t.times(t.dataList[0].goodPrize,t.num)))]):t._e()],1):a("v-uni-view",{staticClass:"shop-item-right"},[t._v(t._s(t.$t("shop64"))+t._s(t.dataList.length)+t._s(t.$t("shop65"))+" "+t._s(t.$t("shop66"))+":$"+t._s(t.carPrize))])],1)],1),a("v-uni-view",{staticClass:"buy-shop-type"}),a("v-uni-view",{staticStyle:{height:"120rpx"}}),a("v-uni-view",{staticClass:"buy-shop-bottom"},[a("v-uni-view",{staticClass:"buy-shop-box"},[void 0!=t.dataList[0]?a("v-uni-view",{staticClass:"buyTxt"},[t._v("总计:"+t._s(t.times(t.dataList[0].goodPrize,t.num)))]):t._e(),a("v-uni-view",{staticClass:"buyBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payBtn.apply(void 0,arguments)}}},[t._v(t._s(t.$t("shop50")))])],1)],1),a("w-loading",{ref:"loading",attrs:{text:"",mask:"true",click:"false"}})],1)},n=[]},"76e0":function(t,e,a){var i=a("9def");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("62cced6a",i,!0,{sourceMap:!1,shadowMode:!1})},"7b85":function(t,e,a){"use strict";a.r(e);var i=a("c53b"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},8242:function(t,e,a){"use strict";a.r(e);var i=a("203f"),n=a("7b85");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("c889");var s=a("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"c49157ca",null,!1,i["a"],void 0);e["default"]=r.exports},"9def":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".content[data-v-730f4ce0]{width:100%;background-color:#f2f6ff;height:auto;min-height:100vh;padding-top:%?110?%;box-sizing:border-box}.order-list[data-v-730f4ce0]{background:#fff;border-radius:%?10?%;margin:%?20?% %?30?% 0;overflow:hidden}\n/* 支付按钮 */.buy-shop-bottom[data-v-730f4ce0]{height:%?100?%;background:#fff;position:fixed;bottom:0;width:100%}.buy-shop-box[data-v-730f4ce0]{display:flex;justify-content:space-between;align-items:center}.buyBtn[data-v-730f4ce0]{width:%?300?%;background:#00c3f5;height:%?100?%;color:#fff;font-size:%?28?%;text-align:center;line-height:%?100?%}.buyTxt[data-v-730f4ce0]{font-size:%?28?%;margin-left:%?30?%}\n/* 支付列表 */.buy-shop-type[data-v-730f4ce0]{background:#fff;margin:%?20?% %?30?% 0;border-radius:%?10?%}.shop-item-left i[data-v-730f4ce0]{font-size:%?32?%;margin-right:%?20?%;float:left}\n/* 列表信息 */.buy-shop-list[data-v-730f4ce0]{background:#fff;margin:%?20?% %?30?% 0;border-radius:%?10?%}.buy-shop-item[data-v-730f4ce0]{display:flex;justify-content:space-between;min-height:%?80?%;font-size:%?24?%;margin:0 %?20?%;align-items:center}.shop-item-left[data-v-730f4ce0]{color:#333;display:flex;align-items:center}.shop-item-right[data-v-730f4ce0]{color:#999;display:flex;align-items:center}.shop-item-right i[data-v-730f4ce0]{font-size:16px;padding-top:%?4?%}.shop-item-right uni-radio[data-v-730f4ce0]{-webkit-transform:scale(.7);transform:scale(.7)}.buy-shop-item uni-input[data-v-730f4ce0]{width:100%;background:#f4f4f4;height:%?70?%;border-radius:%?70?%;font-size:%?24?%;text-indent:%?30?%}\n/* 商品信息 */\n/* 地址样式 */.buy-address[data-v-730f4ce0]{margin:%?30?% %?30?% 0;background:#fff;height:%?198?%;border-radius:%?10?%;overflow:hidden}.buy-address-content[data-v-730f4ce0]{height:%?190?%;display:flex}.buy-address-txt[data-v-730f4ce0]{flex:1}.buy-address-txt .user[data-v-730f4ce0]{font-size:%?28?%;line-height:%?50?%;margin-top:%?20?%;margin-bottom:%?10?%}.buy-address-txt .address[data-v-730f4ce0]{font-size:%?24?%;color:#999;line-height:%?35?%}.buy-address-item[data-v-730f4ce0]{width:%?100?%;text-align:center}.buy-address-item.moreicon[data-v-730f4ce0]{display:flex;align-items:center;justify-content:center}.buy-address-item.addressicon[data-v-730f4ce0]{margin-top:%?25?%;color:#999}.buy-address-line[data-v-730f4ce0]{height:%?8?%;background-image:linear-gradient(135deg,#82c9ff 8px,transparent 0,transparent 16px,#ff8282 0,#ff8282 32px,transparent 0,transparent 0,transparent 40px,#82c9ff 0,#82c9ff);background-color:#fff;background-size:68px %?8?%}",""]),t.exports=e},a02b:function(t,e,a){"use strict";a.r(e);var i=a("a376"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},a278:function(t,e,a){"use strict";a.r(e);var i=a("6afe"),n=a("a02b");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("2500");var s=a("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"730f4ce0",null,!1,i["a"],void 0);e["default"]=r.exports},a376:function(t,e,a){"use strict";(function(t){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d4b5"),a("c9b5"),a("bf0f"),a("ab80");var n=i(a("2634")),o=i(a("2fdc")),s=(a("493a"),i(a("8242"))),r=i(a("b587")),d=i(a("5084")),c=(i(a("ae3d")),i(a("ed07"))),u=a("64b3"),f=i(a("81a5")),l={data:function(){return{array:["请选择快递","顺丰快递","申通快递","圆通快递"],index:0,pay:1,providerList:[],back:0,dataList:[],dataImg:[],num:"",note:"",goodId:"",addressId:"",carType:1,goodList:[],carPrize:0}},components:{shopItem:s.default,myAddress:r.default,topNav:d.default,wLoading:c.default},onLoad:function(t){this.back=t.address,this.goodId=t.goodId,this.num=t.num,this.goodList=t.goodList,void 0!=t.type&&(this.carType=t.type),this.postDetail(t.goodId)},methods:{getPayInfo:function(){var e=this;return(0,o.default)((0,n.default)().mark((function a(){var i;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$refs.loading.open(),a.next=3,e.contract.bindParent(e.userAddress).catch((function(a){t.log(a),e.$refs.loading.close();var i=JSON.parse(JSON.stringify(a));uni.showToast({title:i.reason,icon:"none"})}));case 3:if(i=a.sent,!i){a.next=21;break}return a.prev=5,a.next=8,i.wait();case 8:e.$refs.loading.close(),uni.showToast({title:e.$t("success"),icon:"none"}),e.checkParent(),e.userAddress="",e.$refs.popup.close(),a.next=21;break;case 15:a.prev=15,a.t0=a["catch"](5),t.log(a.t0),e.$refs.loading.close(),e.$refs.popup.close(),uni.showToast({title:a.t0.toString(),icon:"none"});case 21:case"end":return a.stop()}}),a,null,[[5,15]])})))()},adrChange:function(t){this.addressId=t},times:function(t,e){if(void 0!=t)return(0,f.default)(t).times((0,f.default)(e)).toString()},postDetail:function(e){var a=this;2==this.carType?(0,u.getGoodListByIdList)({goodList:this.goodList}).then((function(e){if(0==e.code){a.dataList=e.data;for(var i=0;i<e.data.length;i++)t.log(a.times(e.data[i].goodPrize,e.data[i].goodNum)),a.carPrize=(0,f.default)(e.data[i].goodPrize).times((0,f.default)(e.data[i].goodNum)).plus(a.carPrize)}else uni.showToast({title:e.msg,icon:"none"}),a.$refs.popup.close()})):(0,u.getGoodListById)({goodId:e}).then((function(t){0==t.code?a.dataList=t.data:(uni.showToast({title:t.msg,icon:"none"}),a.$refs.popup.close())}))},backBtn:function(){t.log(this.back),this.back?uni.navigateBack({delta:3}):uni.navigateBack()},payBtn:function(){var t=this;2==this.carType?(0,u.buyCar)({goodList:this.goodList,addressId:this.addressId,note:this.note}).then((function(t){0==t.code?uni.showToast({title:"成功",icon:"none"}):uni.showToast({title:t.msg,icon:"none"})})):(0,u.buyOne)({goodId:this.goodId,num:this.num,addressId:this.addressId,note:this.note}).then((function(e){0==e.code?(uni.showToast({title:"成功",icon:"none"}),uni.navigateTo({url:"/pages/order/detail?"+"orderId=".concat(e.payCode),animationType:"none"})):(uni.showToast({title:e.msg,icon:"none"}),t.$refs.popup.close())}))},bindPickerChange:function(e){t.log("picker发送选择改变，携带值为",e.target.value),this.index=e.target.value},requestPayment:function(e){var a=this;return(0,o.default)((0,n.default)().mark((function i(){var o;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.getOrderInfo(e.id);case 2:if(o=i.sent,t.log("得到订单信息",o),200===o.statusCode){i.next=8;break}return t.log("获得订单信息失败",o),uni.showModal({content:"获得订单信息失败",showCancel:!1}),i.abrupt("return");case 8:uni.requestPayment({provider:e.id,orderInfo:o.data,success:function(e){t.log("success",e),uni.showToast({title:"感谢您的赞助!"})},fail:function(e){t.log("fail",e),uni.showModal({content:"支付失败,原因为: "+e.errMsg,showCancel:!1})}});case 9:case"end":return i.stop()}}),i)})))()},getOrderInfo:function(t){var e="https://demo.dcloud.net.cn/payment/?payid="+t+"&appid=&total=1";return new Promise((function(t){uni.request({url:e,success:function(e){t(e)},fail:function(e){t(e)}})}))},changeRadio:function(t){this.pay=t}}};e.default=l}).call(this,a("ba7c")["default"])},c53b:function(t,e,a){"use strict";(function(t){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa");var n=i(a("4491")),o={props:{num:{type:String,default:"0"},typeItem:{type:Number,default:0},already:{type:Array,default:function(){return[]}},dialogImg:{type:Array,default:function(){return[]}}},data:function(){return{}},components:{MyNum:n.default},created:function(){t.log(this.already)},methods:{}};e.default=o}).call(this,a("ba7c")["default"])},c889:function(t,e,a){"use strict";var i=a("4098"),n=a.n(i);n.a}}]);